import requests
import time
from bs4 import BeautifulSoup


host = 'https://zona.media'

links = {'/article/2017/10/11/fingers', '/article/2018/10/03/putin-razreshil', '/article/2018/04/03/blowlamp', '/article/2018/09/09/spb_9/9', '/article/2017/27/04/pokemon_sokolovsky', '/article/2018/07/05/konnova', '/article/2018/09/20/petr', '/article/2018/06/14/bebchuk', '/article/2018/06/07/krekov-mohnatkin', '/article/2018/11/19/ruxit', '/article/2018/05/31/autist-biking', '/article/2017/07/19/spice', '/article/2017/05/04/goryachiy-klyuch', '/article/2018/07/11/cherkes', '/article/2018/02/28/scrutiny', '/article/2018/08/03/chernaya-zhopa', '/article/2017/05/25/ibragimov', '/article/2018/07/09/motz', '/article/2017/08/18/korovin', '/article/2017/05/15/taisia', '/article/2018/08/28/savva', '/article/2017/12/25/tsik', '/article/2017/06/01/irkutsk-2018', '/article/2018/06/28/dakiev', '/article/2018/07/06/tabligi', '/article/2018/07/21/tsniimash-lefortovo', '/article/2017/28/04/science-smells', '/article/2017/06/21/clean', '/article/2017/12/25/dtp', '/article/2018/04/11/volnyi-aul', '/article/2017/05/12/demolition-movie', '/article/2018/05/04/hoods', '/article/2017/08/02/ot-slova-uchastiye', '/article/2018/05/23/bars-2', '/article/2018/05/21/fears', '/article/2017/07/24/travmat', '/article/2017/07/21/thai', '/article/2018/08/13/urka-bek', '/article/2018/11/01/epkt', '/article/2018/10/29/cirque-du-soleil', '/article/2017/06/14/ksm', '/article/2018/06/13/kudzay', '/article/2018/01/10/HIV-88', '/article/2017/06/07/refugees-welcome', '/article/2017/12/05/pavlensky-in-paris', '/article/2018/05/03/akka', '/article/2017/11/13/wi-fi', '/article/2018/11/05/5/11/17-year-after', '/article/2017/07/26/tatarstan', '/article/2018/10/19/davidych', '/article/2017/06/29/eco', '/article/2017/05/16/opros', '/article/2018/10/18/chishmy', '/article/2018/11/15/khutorok', '/article/2017/09/27/sib-fm', '/article/2018/06/21/meetings', '/article/2018/05/25/spetsodezhda', '/article/2018/06/08/riot-report-10', '/article/2018/08/14/vodaplus', '/article/2018/07/30/oink-oink', '/article/2018/08/23/kalugina', '/article/2018/01/30/ik-omon', '/article/2017/09/21/twitterbell', '/article/2018/05/25/marem', '/article/2017/06/19/molotov', '/article/2017/06/22/tsyrkun-4', '/article/2018/03/20/brothers', '/article/2018/03/10/gabaev', '/article/2018/05/21/pchelintsev', '/article/2017/10/16/rotzakroy', '/article/2018/07/04/goldman', '/article/2017/07/17/so-sud', '/article/2018/02/06/july', '/article/2017/09/15/marat-murat', '/article/2018/04/19/filinein', '/article/2017/06/21/tsyrkun-3', '/article/2018/06/19/feb26', '/article/2017/09/06/folsom-prison-blues', '/article/2018/07/14/14-05-1957', '/article/2018/04/23/gurcheva', '/article/2018/06/19/belousov', '/article/2018/04/10/stevenson', '/article/2018/07/24/264', '/article/2017/05/24/edimontenegro', '/article/2018/05/29/lebedyan', '/article/2018/03/08/omelchenko', '/article/2018/01/25/nikandrov-best-of', '/article/2017/11/16/kuzbass', '/article/2017/06/20/tsyrkun-2', '/article/2017/05/18/usmanov', '/article/2017/08/01/oper-nn', '/article/2017/07/03/strelka-francesco', '/article/2018/05/28/miss-tatarstan', '/article/2018/06/26/kiyashko', '/article/2017/12/01/kagermazov', '/article/2017/04/06/diary', '/article/2017/06/23/tsyrkun-5', '/article/2018/10/30/zvonit-stalina', '/article/2018/10/11/armyansk', '/article/2017/07/18/kim', '/article/2017/06/30/omofon', '/article/2018/07/03/monolog-sledovatel', '/article/2017/06/06/casus-porridge', '/article/2018/06/10/vakhapov', '/article/2018/11/06/khabarovsk', '/article/2018/06/04/dolievs', '/article/2018/09/03/ne-pytka', '/article/2018/08/15/going-home', '/article/2018/10/10/axel', '/article/2017/26/04/iego', '/article/2018/10/29/trapsh', '/article/2018/01/27/kapustin', '/article/2017/06/11/casus-onk-onk', '/article/2018/08/31/eat-me', '/article/2017/11/10/lost-in-translation', '/article/2018/04/06/nevinovat', '/article/2018/07/27/badnews', '/article/2018/07/10/gorbunov', '/article/2017/10/10/nn', '/article/2017/06/09/peacock', '/article/2017/08/24/ivan-svoboden', '/article/2018/03/20/drymanov', '/article/2017/11/09/avtozavod', '/article/2018/04/28/ugtu', '/article/2018/03/08/mamochkii', '/article/2017/10/24/biglunch-2', '/article/2018/02/22/rusebola', '/article/2018/05/18/e-ingushetia', '/article/2018/07/24/frolova', '/article/2018/12/03/shkolsoyuz', '/article/2018/07/16/e-ingushetiya-report', '/article/2018/07/20/richard', '/article/2017/06/07/roskom', '/article/2017/06/14/healthcare', '/article/2018/10/01/bla-blo', '/article/2018/01/02/prigovori', '/article/2018/02/05/burkin', '/article/2017/11/24/vladimir', '/article/2017/07/28/honour', '/article/2018/06/06/mustafayev', '/article/2018/08/10/aye', '/article/2018/02/23/whatsapp', '/article/2017/05/05/waltz_with_bashirov', '/article/2018/07/13/sterlitamak', '/article/2018/05/31/e-ingushetia-2', '/article/2018/09/12/bessonov', '/article/2018/07/24/kalinichenko', '/article/2018/08/22/novoe-v', '/article/2017/06/26/torturevictimsday', '/article/2017/11/28/alina', '/article/2018/01/12/oyub', '/article/2018/08/31/riot-report-11', '/article/2018/07/03/yarovaya', '/article/2018/02/07/5-11-volgograd', '/article/2018/03/08/evgenia', '/article/2018/02/16/shakursky', '/article/2017/08/04/zhilkin', '/article/2018/08/23/7x7-fine', '/article/2018/08/18/NaRod-282', '/article/2017/07/31/old-river', '/article/2018/09/07/schlosberg', '/article/2017/10/23/birsk', '/article/2018/07/26/voronezh', '/article/2017/11/03/5-11-2017', '/article/2017/11/01/nochevnov-2', '/article/2017/10/04/irkutskie-chuvstva', '/article/2018/10/08/july-2', '/article/2018/03/07/bravenewface', '/article/2018/11/16/kak-v-adu', '/article/2018/08/02/gorelovo', '/article/2017/05/05/dnevniki-kursanta', '/article/2018/08/29/plant-on', '/article/2018/11/06/president-hotel', '/article/2017/08/23/outsiders-3-kob', '/article/2017/09/05/korzinochka', '/article/2017/10/04/odin-na-granitse', '/article/2018/02/08/kergelesh', '/article/2018/05/08/plitka', '/article/2018/04/16/magomedovs', '/article/2018/11/21/abbasov', '/article/2017/06/20/eshechki', '/article/2018/05/14/stomakhin', '/article/2018/02/21/filin', '/article/2018/07/10/shtraf_alexina', '/article/2018/09/03/ne-zabudem', '/article/2018/02/26/03', '/article/2018/09/28/mg', '/article/2018/09/06/3-1-2', '/article/2018/05/15/moskvin', '/article/2017/06/02/dal-prikaz', '/article/2018/07/11/zelenogorsk', '/article/2017/07/24/secret-prison', '/article/2018/01/23/drymanov', '/article/2018/03/28/saratovdia', '/article/2017/12/31/itogo-17', '/article/2017/12/26/gardanov', '/article/2018/06/01/female-mutilation-05-2', '/article/2017/11/17/shota', '/article/2018/05/07/tzar-1312', '/article/2018/07/30/prosecutor', '/article/2017/05/10/soviet-holocaust-denial', '/article/2017/09/12/pobory', '/article/2018/07/12/oleg', '/article/2017/08/18/C22H28N2O', '/article/2017/10/19/tagil', '/article/2017/07/25/nikic', '/article/2018/04/02/pugats', '/article/2017/11/23/ik-28', '/article/2018/09/24/romanov-205', '/article/2018/08/03/barnaul', '/article/2017/09/04/kinolog', '/article/2018/04/12/sigma-samurai-fog', '/article/2018/07/03/shatrovsky', '/article/2018/05/16/sntsv', '/article/2017/07/27/newborn', '/article/2017/09/28/agora', '/article/2018/07/19/19-3-20-2', '/article/2017/12/07/tula', '/article/2017/09/14/fakel-portos', '/article/2017/12/19/hayrullina', '/article/2017/14/04/altareva', '/article/2018/04/10/salima', '/article/2018/03/02/shutovka', '/article/2017/11/25/kuliev', '/article/2017/12/04/alternative', '/article/2017/11/20/bortko', '/article/2017/02/05/baryliak', '/article/2018/09/04/chastushki', '/article/2017/06/28/zelenka', '/article/2017/09/21/verbatim-golubovsky', '/article/2017/08/28/ded', '/article/2017/11/07/5-11-2017-backlash', '/article/2018/06/27/101', '/article/2017/06/27/format-11', '/article/2017/10/20/lastochka', '/article/2017/11/04/rochdale', '/article/2018/01/16/slava', '/article/2018/10/12/fuck', '/article/2018/01/19/adolfych-shalygina', '/article/2018/11/09/gorelovo-press', '/article/2017/11/04/cheboksary', '/article/2017/05/30/radushie', '/article/2017/10/03/das-kapital', '/article/2017/07/04/vilkov-again', '/article/2018/01/30/terror-sizo', '/article/2018/10/16/tuapse', '/article/2017/11/22/casus-absence', '/article/2018/03/30/velichie', '/article/2018/06/29/ivlev', '/article/2017/08/29/bakholdin', '/article/2018/10/02/arkhivazhno', '/article/2017/07/11/crimea', '/article/2017/12/15/ulyukayev', '/article/2018/02/22/anapa-3', '/article/2018/02/01/kacheli', '/article/2018/06/06/lidocaine', '/article/2018/06/25/current-time-144', '/article/2018/06/29/taxi', '/article/2017/11/14/piter_kino', '/article/2017/09/04/serebrennikov-speech', '/article/2017/08/25/crnazi', '/article/2017/12/29/psycho', '/article/2018/03/16/pensa', '/article/2018/07/18/askhab', '/article/2018/06/21/soplyak', '/article/2017/06/05/26-03-po-naznacheniyu', '/article/2017/06/05/prazdnik', '/article/2017/04/19/muchkap', '/article/2018/06/07/kolchenko', '/article/2017/11/09/buchenkov', '/article/2018/06/25/blogsochi', '/article/2018/10/23/apokalypse', '/article/2018/07/23/alievs', '/article/2017/09/01/casus-school', '/article/2018/07/27/un', '/article/2018/07/17/pussy-echr', '/article/2018/06/01/chelyabinsk-otkaznoye', '/card/dmitriev', '/article/2017/08/08/raspiski-propali', '/article/2017/08/17/summa-contra-gentiles', '/article/2018/05/29/yunus', '/article/2017/07/14/apsheronsk-3', '/article/2018/04/26/torpedo', '/article/2018/09/17/siloviki-minus', '/article/2018/03/13/ingushetia', '/article/2018/04/16/krivorotov-2', '/article/2018/08/09/GTA-sentence', '/article/2018/10/02/belyakov', '/article/2018/06/22/kindergarten', '/article/2017/10/13/morozzz', '/article/2018/06/27/kazansky', '/article/2018/08/15/nikak', '/article/2018/09/06/kadyrov', '/article/2018/03/15/rechkalov', '/article/2018/05/24/hunger-strike-80', '/article/2017/11/17/pirkin', '/article/2017/07/10/yastrebova', '/article/2017/08/22/outsiders-2-lada', '/article/2017/05/17/sokolovsky-prigivor', '/article/2018/08/07/urazovo', '/article/2018/02/19/kass', '/article/2018/03/22/coal', '/article/2017/05/29/dubki', '/article/2018/11/14/kletka', '/article/2018/06/05/vkjustice', '/article/2018/08/15/mothers', '/article/2017/11/21/ru', '/article/2018/04/17/dvortsov', '/article/2017/10/16/maxim', '/article/2017/11/05/sokrat', '/article/2017/10/02/cannibal', '/article/2018/07/18/pravda-partizan', '/article/2017/12/11/karomat', '/article/2018/08/16/nikandrov', '/article/2017/05/06/polozhenie', '/article/2017/09/15/letters-1937', '/article/2017/08/24/outsiders-4-drdr', '/article/2018/06/13/badnews', '/article/2017/10/04/growfood', '/article/2017/17/04/romanov', '/article/2017/10/04/nochevnov', '/article/2018/04/04/goryachyi-klyuch', '/article/2018/11/22/chervochkin', '/article/2017/08/14/spice-disproof', '/article/2018/03/27/maximenko', '/article/2018/03/12/ponkrtatov', '/article/2017/12/28/just-kids', '/article/2018/09/25/op-70', '/article/2018/08/24/etap', '/article/2018/10/25/v-mire-zhivotnykh', '/article/2017/08/30/ivan', '/article/2018/06/20/stickers', '/article/2018/01/09/titiev', '/article/2017/11/27/ulyukaevspeaks', '/article/2017/07/06/zavhoz', '/article/2017/12/08/chabany', '/article/2017/05/08/hidzhab', '/article/2018/10/09/c3', '/article/2017/11/02/ramenskoe-3', '/article/2017/08/16/evloev-free', '/article/2018/09/21/tosno', '/article/2017/06/19/tsyrkun-1', '/article/2018/03/23/!937', '/article/2018/11/28/gazzavod', '/article/2017/05/22/fingers', '/article/2017/10/30/circus', '/article/2018/02/01/vlgrd', '/article/2018/03/05/mirimskaya', '/article/2018/01/05/schmit', '/article/2018/01/29/vadim', '/article/2017/08/25/outsiders-5-rusreprus', '/article/2018/08/20/rings-2', '/article/2018/02/14/ooooo', '/article/2018/10/19/ren', '/article/2018/03/21/suicide', '/article/2017/11/24/viktoria', '/article/2017/11/30/khamidullin', '/article/2017/05/19/kazak', '/article/2018/08/08/kochubei', '/article/2018/05/17/144-05', '/article/2018/12/06/rap', '/article/2018/11/08/khabarov', '/article/2017/07/20/jury', '/article/2018/01/23/memo', '/article/2018/10/25/fsb-spd', '/article/2018/03/14/kivelidi', '/article/2018/10/03/kozhevnikova', '/article/2018/05/15/psygulag', '/games/e-simulator', '/article/2018/04/19/filin-2', '/article/2018/09/11/satisfaction', '/article/2018/01/11/cocker', '/article/2017/05/27/about-a-boy', '/article/2017/12/22/elban', '/article/2018/01/31/belykh-who-is-who', '/article/2017/08/09/vogue-17', '/article/2018/08/22/282-148', '/article/2017/12/19/fsb_100', '/article/2018/05/28/chelyabinsk-213', '/article/2017/11/13/moto-82', '/article/2018/09/21/yaroslavl', '/article/2018/11/02/shil', '/article/2018/10/17/stepanovsky', '/article/2017/09/12/mogocha', '/article/2018/09/14/thallium', '/article/2018/06/13/grigoryants', '/article/2017/11/04/hatecrimes', '/article/2017/08/21/outsiders-1-president', '/article/2018/04/09/tagil', '/article/2017/05/26/strelka-liam', '/article/2018/03/15/subbotin', '/article/2018/04/06/pokhodun', '/article/2017/06/01/riot-report-9', '/article/2017/05/18/bonch-brue', '/article/2018/09/05/zlomnov', '/article/2018/10/05/mozhay', '/article/2017/08/01/mosobl-gta', '/article/2017/12/18/bars', '/article/2018/01/12/osipov', '/article/2017/10/16/rotar', '/article/2018/05/22/shapka', '/article/2018/06/20/counter', '/test/2018/10/26/emigration', '/article/2017/08/07/bandana', '/article/2017/12/07/nas-uvoliat', '/article/2017/10/27/strike', '/article/2018/06/18/aushev', '/article/2017/06/22/nemtsov-who-is-who', '/article/2017/11/05/pokemon-interview', '/article/2018/03/07/batrayev', '/article/2018/08/17/lyaskin', '/article/2018/02/15/kuku', '/article/2018/06/15/penza-prequel', '/article/2018/06/15/bard', '/article/2017/07/13/maltseva', '/article/2018/02/20/alla', '/article/2017/12/20/odinze', '/article/2018/12/06/srji', '/article/2017/10/05/cherny_peredel', '/article/2018/08/30/salikov', '/article/2018/01/24/lamonov-best-of', '/article/2018/09/06/arman', '/article/2017/06/01/rings', '/article/2017/12/27/dmitriev', '/article/2018/09/26/orenburg', '/article/2017/04/25/denial', '/article/2017/06/08/soldier', '/article/2018/06/07/dixi', '/article/2018/02/12/oper-omsk', '/article/2018/04/30/klevakin-2', '/article/2017/06/15/dubravlag', '/article/2018/02/26/7x7', '/article/2017/11/22/filevsky-park', '/article/2018/01/31/mrzff', '/article/2017/11/07/anapa-2', '/article/2017/12/04/ulyukayev-compiled', '/article/2017/08/15/limeshko', '/article/2017/12/14/ruki', '/article/2018/04/30/tomskpesni', '/article/2018/09/27/kamensk-mogilskiy', '/article/2018/02/27/main-terrorist', '/article/2017/08/15/torture', '/article/2018/03/06/burmistrov', '/article/2017/06/15/nevinno', '/article/2018/02/13/katrin', '/article/2018/02/27/savinovskih', '/article/2017/14/04/irkfreedom', '/article/2017/03/04/terakt-spb', '/article/2018/04/24/batman', '/article/2017/09/27/biglunch', '/article/2017/11/27/ombudsment', '/article/2017/12/26/ali-diary', '/article/2017/05/31/derbyshki', '/article/2017/09/22/ramp', '/article/2017/04/20/no-church-in-the-wild', '/article/2018/03/01/galyashkin', '/article/2018/02/23/galchenkov', '/article/2017/09/19/gok-stop', '/article/2018/10/22/poison', '/article/2017/10/05/tere-hol', '/article/2018/05/10/suvorovo', '/article/2018/05/11/kapustin-otkaz', '/article/2018/02/09/penza-tortures', '/article/2018/08/17/glukhov', '/article/2018/04/05/mosru', '/article/2017/11/14/ik2', '/article/2018/02/07/zakon-takoy', '/article/2018/04/17/Penza-press', '/article/2017/09/08/krivorotov', '/article/2018/11/08/internyet', '/article/2018/01/03/26-3-17', '/article/2017/18/04/318-posle-26', '/article/2018/06/09/mutsolgov', '/article/2017/04/05/vote-for-demolition', '/article/2018/03/29/kass-book'}

for i in range(1, 20):
    mediazona = requests.get(
        '{}/_load?selector=categoryMaterials&page={}&total=906&cat_name=Тексты'.format(host, i),
    )
    soup = BeautifulSoup(mediazona.json()['data'][0]['html'], 'html.parser')
    elements = soup.find_all('a')

    for e in elements:
        links.add(e.get('href'))
print(links)

def get_site(link):
    mz = requests.get(
        '{}{}'.format(host, link)
    )
    soup2 = BeautifulSoup(mz.text, 'html.parser')
    text = ''
    for p in soup2.find_all('p')[:-6]:
        text += p.get_text()
    return text


with open('text2.txt', 'w+') as f:
    for i, link in enumerate(links):
        print('{}/{}'.format(i, len(links)))
        try:
            f.write(get_site(link))
        except Exception:
            pass
